import { action } from '@storybook/addon-actions';
import { Meta, Canvas, Story, Props } from '@storybook/addon-docs/blocks';
import Form from './Form';
import SubmitButton from '../SubmitButton';
import useFormSubmittedValues from '../useFormSubmittedValues';
import TextField from '../TextField';

export const initialValues = { name: 'initial name' };

<Meta title="Form Component" component={Form} />

## Basic form implementation

<Canvas>
  <Story name="basic">
    {() => {
      const handle = useFormSubmittedValues(action('submitted'));
      return (
        <Form onSubmitForm={handle} initialValues={initialValues}>
          <TextField name="name" label="Name: " />
          <p>
            <SubmitButton>Submit</SubmitButton>
          </p>
        </Form>
      );
    }}
  </Story>
</Canvas>

## Forms should be able to render child functions

<Canvas>
  <Story name="render child function">
    {() => {
      const handle = useFormSubmittedValues(action('submitted'));
      return (
        <Form onSubmitForm={handle} initialValues={initialValues}>
          {() => (
            <>
              <TextField name="name" label="Name: " />
              <p>
                <SubmitButton>Submit</SubmitButton>
              </p>
            </>
          )}
        </Form>
      );
    }}
  </Story>
</Canvas>
